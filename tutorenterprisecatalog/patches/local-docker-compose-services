enterprise-catalog:
  image: {{ ENTERPRISE_CATALOG_DOCKER_IMAGE }}
  environment:
    DJANGO_SETTINGS_MODULE: enterprise_catalog.settings.tutor.production
  volumes:
    - ../plugins/enterprisecatalog/apps/settings/tutor:/openedx/enterprise-catalog/enterprise_catalog/settings/tutor:ro
  restart: unless-stopped
  depends_on:
    - discovery
    - lms
    {% if RUN_MYSQL %}- mysql{% endif %}

enterprise-catalog-worker:
  image: {{ ENTERPRISE_CATALOG_WORKER_DOCKER_IMAGE }}
  environment:
    WORKER_CONFIGURATION_MODULE: enterprise_catalog.settings.tutor.celery_production
  restart: unless-stopped
  volumes:
    - ../plugins/enterprisecatalog/apps/settings/tutor:/openedx/enterprise-catalog/enterprise_catalog/settings/tutor:ro
  depends_on:
    - discovery
    - lms
    - enterprise-catalog
    {% if RUN_MYSQL %}- mysql{% endif %}
